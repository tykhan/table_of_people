(this["webpackJsonptable-of-people"]=this["webpackJsonptable-of-people"]||[]).push([[0],{36:function(e,t,s){},38:function(e,t,s){},39:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(0),a=s(17),r=s.n(a),o=s(5),l=s(9),i=(s(36),s(12)),u=s(26),j="START_SPINNER",b="STOP_SPINNER",d="LOAD_USERS_SUCCESS",p="LOAD_USERS_ERROR",O="LOAD_POSTS_SUCCESS",_="LOAD_POSTS_ERROR",m="LOAD_POST_COMMENTS_SUCCESS",h="LOAD_POST_COMMENTS_ERROR",f="LOAD_POST_DETAILS_SUCCESS",x="LOAD_POST_DETAILS_ERROR",v=s(4),y={users:[],error:null},N={error:null,comments:[]},S={posts:[],error:null},g={post:{},error:null},w=Object(i.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(v.a)(Object(v.a)({},e),{},{users:t.payload});case p:return Object(v.a)(Object(v.a)({},e),{},{error:t.payload});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(v.a)(Object(v.a)({},e),{},{posts:t.payload});case _:return Object(v.a)(Object(v.a)({},e),{},{error:t.payload});default:return e}},postDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(v.a)(Object(v.a)({},e),{},{post:t.payload});case x:return Object(v.a)(Object(v.a)({},e),{},{error:t.payload});default:return e}},postComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(v.a)(Object(v.a)({},e),{},{error:t.payload});case m:return Object(v.a)(Object(v.a)({},e),{},{comments:t.payload});default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return!0;case b:return!1;default:return e}}}),E=function(e){return e.loading},k=function(e){return e.users.users},T=function(e){return e.posts.posts},C=function(e){return e.postComments.comments},R=function(e){return e.postDetails.post},D=Object(i.d)(w,Object(i.a)(u.a));D.subscribe((function(){}));var A=s(3),L=s(16),P=s(11),I=s.n(P),U=s(13),F=function(e,t){return fetch("".concat("https://jsonplaceholder.typicode.com").concat(e),t).then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()}))},M=function(e){return F("/posts?userId=".concat(e))},J=function(e){return F("/posts/".concat(e))},q=function(e,t){return function(e,t){return F(e,{method:"PUT",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(t)})}("/posts/".concat(e),t)},G=function(e){return t="/posts/".concat(e),F(t,{method:"DELETE"});var t},B=function(){return{type:j}},z=function(){return{type:b}},H=function(e){return{type:O,payload:e}},K=function(e){return function(){var t=Object(U.a)(I.a.mark((function t(s){var n,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(B()),t.prev=1,"0"!==e){t.next=9;break}return t.next=5,F("/posts");case 5:n=t.sent,s(H(n)),t.next=13;break;case 9:return t.next=11,M(e);case 11:c=t.sent,s(H(c));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),s((a=t.t0,{type:_,payload:a}));case 18:s(z());case 19:case"end":return t.stop()}var a}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},Q=function(e){return{type:d,payload:e}},V=function(){return function(){var e=Object(U.a)(I.a.mark((function e(t){var s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B()),e.prev=1,e.next=4,F("/users");case 4:s=e.sent,t(Q(s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t((n=e.t0,{type:p,payload:n}));case 11:t(z());case 12:case"end":return e.stop()}var n}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},W=(s(38),function(){return Object(n.jsx)("div",{className:"loader"})}),X=(s(39),function(e){var t=e.post;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("li",{className:"posts__list_item post-list",children:[Object(n.jsx)("div",{className:"post-list__title",children:t.title}),Object(n.jsx)(l.b,{to:"/posts/".concat(t.id),className:"post-list__details-btn",children:"Details"})]})})}),Y=(s(41),function(e){e.match;var t=Object(o.b)(),s=(Object(A.g)(),Object(o.c)(k)),a=Object(o.c)(T),r=Object(o.c)(E),i=Object(c.useState)("0"),u=Object(L.a)(i,2),j=u[0],b=u[1];return Object(c.useEffect)((function(){t(K("0")),t(V())}),[t]),Object(c.useEffect)((function(){t(K(j))}),[j,t]),Object(n.jsx)("section",{className:"posts",children:r?Object(n.jsx)(W,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"posts__top",children:[Object(n.jsx)(l.b,{to:"/",className:"posts__back-btn",children:"Go back"}),Object(n.jsxs)("label",{className:"posts__user-selector-label",children:["Select a user: \xa0",Object(n.jsxs)("select",{className:"posts__user-selector",value:j,onChange:function(e){b(e.target.value)},children:[Object(n.jsx)("option",{value:0,children:"All users"}),s.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})]}),Object(n.jsx)("ul",{className:"posts__list",children:a.map((function(e){return Object(n.jsx)(X,{post:e},e.id)}))})]})})}),Z=function(e){return{type:m,payload:e}},$=function(e){return{type:f,payload:e}},ee=(s(42),function(e){var t=e.match,s=Object(o.b)(),a=Object(o.c)(C),r=Object(o.c)(R),i=Object(o.c)(E),u=Object(o.c)(k),j=Object(c.useState)(""),b=Object(L.a)(j,2),d=b[0],p=b[1],O=Object(c.useState)(""),_=Object(L.a)(O,2),m=_[0],f=_[1],v=+t.params.postId,y=u.find((function(e){return+e.id===+r.userId}));Object(c.useEffect)((function(){var e;s((e=v,function(){var t=Object(U.a)(I.a.mark((function t(s){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(B()),t.prev=1,t.next=4,F("/comments?postId=".concat(e));case 4:n=t.sent,s(Z(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s((c=t.t0,{type:h,payload:c}));case 11:s(z());case 12:case"end":return t.stop()}var c}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())),s(function(e){return function(){var t=Object(U.a)(I.a.mark((function t(s){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(B()),t.prev=1,t.next=4,J(e);case 4:n=t.sent,s($(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s((c=t.t0,{type:x,payload:c}));case 11:s(z());case 12:case"end":return t.stop()}var c}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(v)),s(V())}),[s,v]);return Object(n.jsx)("section",{className:"details-section",children:i?Object(n.jsx)(W,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(l.b,{to:"/posts",className:"details-section__back-btn",children:"Go back"}),Object(n.jsxs)("div",{className:"details-section__post post",children:[Object(n.jsx)("div",{className:"post__title",children:r.title}),Object(n.jsx)("div",{className:"post__body",children:r.body}),y&&Object(n.jsxs)("div",{className:"post__author",children:["Author: ",y.name]}),Object(n.jsxs)("ul",{className:"post__comments-list",children:[Object(n.jsx)("span",{className:"post__comments",children:"Comments: "}),a.map((function(e){return Object(n.jsxs)("li",{className:"post__comments__comment comment",children:[Object(n.jsx)("div",{className:"comment__name",children:e.name}),Object(n.jsx)("div",{className:"comment__body",children:e.body})]},e.id)}))]}),Object(n.jsx)("div",{className:"post__bottom",children:Object(n.jsxs)("form",{action:"post",className:"post__edit-form",onSubmit:function(e){e.preventDefault();var t={title:d,body:m,userId:r.userId};q(v,t).then((function(e){window.alert("Post succesfully changed\n        Title: ".concat(e.title,"\n        Text: ").concat(e.body,"\n      "))})),f(""),p("")},children:[Object(n.jsx)("div",{className:"post-edit",children:"Edit post"}),Object(n.jsx)("input",{placeholder:"Enter new title...",value:d,type:"text",className:"post__edit__title",required:!0,onChange:function(e){return p(e.target.value.trimLeft())}}),Object(n.jsx)("textarea",{placeholder:"Enter new text...",value:m,type:"text",className:"post__edit__body",rows:"3",required:!0,onChange:function(e){return f(e.target.value.trimLeft())}}),Object(n.jsx)("button",{type:"submit",className:"post__save-btn",children:"Save changes"}),Object(n.jsx)(l.b,{to:"/posts",className:"post__delete-btn",onClick:function(){return G(v),void window.alert("Post was succesfully deleted")},children:"Delete post"})]})})]})]})})}),te=(s(43),function(e){var t=e.user;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("tr",{className:"users__table__row",children:[Object(n.jsx)("td",{className:"users__table_row-element",children:t.name}),Object(n.jsx)("td",{className:"users__table_row-element",children:t.username}),Object(n.jsx)("td",{className:"users__table_row-element",children:t.email})]})})}),se=function(){var e=Object(o.c)(k),t=Object(o.c)(E),s=Object(o.b)();return Object(c.useEffect)((function(){s(V())}),[s]),Object(n.jsx)("section",{className:"users-page",children:t?Object(n.jsx)(W,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("table",{className:"users__table",children:[Object(n.jsx)("thead",{className:"users__table_head",children:Object(n.jsxs)("tr",{className:"users__table_head-row users__table__row",children:[Object(n.jsx)("th",{className:"users__table_head-element users__table_head-element_left-radius",children:"Name"}),Object(n.jsx)("th",{className:"users__table_head-element",children:"Nickname"}),Object(n.jsx)("th",{className:"users__table_head-element users__table_head-element_right-radius",children:"Email"})]})}),Object(n.jsx)("tbody",{children:e.map((function(e){return Object(n.jsx)(te,{user:e},e.id)}))})]}),Object(n.jsx)(l.b,{to:"/posts",className:"users-page__posts-btn",children:"Posts"})]})})};s(44);var ne=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(A.d,{children:[Object(n.jsx)(A.b,{path:"/posts/",component:Y,exact:!0}),Object(n.jsx)(A.b,{path:"/posts/:postId",component:ee,exact:!0}),Object(n.jsx)(A.b,{path:"/",component:se,exact:!0}),Object(n.jsx)(A.a,{to:"/"})]})})};r.a.render(Object(n.jsx)(o.a,{store:D,children:Object(n.jsx)(l.a,{children:Object(n.jsx)(ne,{})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.fd219b03.chunk.js.map